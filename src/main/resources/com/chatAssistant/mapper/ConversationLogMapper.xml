<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chatAssistant.mapper.ConversationLogMapper">

    <resultMap id="BaseResultMap" type="com.chatAssistant.domain.ConversationLog">
            <id property="cid" column="cid" jdbcType="INTEGER"/>
            <result property="searchId" column="search_id" jdbcType="INTEGER"/>
            <result property="message" column="message" jdbcType="VARCHAR"/>
            <result property="role" column="role" jdbcType="VARCHAR"/>
    </resultMap>

<!--    <delete id="deleteLastMsg" parameterType="java.lang.Integer">-->
<!--        DELETE FROM conversation_log WHERE cid = (SELECT * from (SELECT MAX(cid) FROM conversation_log WHERE search_id = #{searchId}) as t)-->
<!--    </delete>-->


</mapper>
